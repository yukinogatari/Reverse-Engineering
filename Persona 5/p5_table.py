# -*- coding: utf-8 -*-

################################################################################
# Copyright © 2016-2017 BlackDragonHunt
# This work is free. You can redistribute it and/or modify it under the
# terms of the Do What The Fuck You Want To But It's Not My Fault Public
# License, Version 1, as published by Ben McGinnes. See the COPYING file
# for more details.
################################################################################

TRANSLATION_TABLE = {
  (0x80, 0x80): (0x81, 0x40),
  (0x80, 0x81): (0x81, 0x49),
  (0x80, 0x82): (0x81, 0x68),
  (0x80, 0x85): (0x81, 0x93),
  (0x80, 0x86): (0x81, 0x95),
  (0x80, 0x87): (0x81, 0x66),
  (0x80, 0x88): (0x81, 0x69),
  (0x80, 0x89): (0x81, 0x6A),
  (0x80, 0x8A): (0x81, 0x96),
  (0x80, 0x8B): (0x81, 0x7B),
  (0x80, 0x8C): (0x81, 0x43),
  (0x80, 0x8D): (0x81, 0x5C),
  (0x80, 0x8E): (0x81, 0x44),
  (0x80, 0x8F): (0x81, 0x5E),
  
  (0x80, 0x90): (0x82, 0x4F),
  (0x80, 0x91): (0x82, 0x50),
  (0x80, 0x92): (0x82, 0x51),
  (0x80, 0x93): (0x82, 0x52),
  (0x80, 0x94): (0x82, 0x53),
  (0x80, 0x95): (0x82, 0x54),
  (0x80, 0x96): (0x82, 0x55),
  (0x80, 0x97): (0x82, 0x56),
  (0x80, 0x98): (0x82, 0x57),
  (0x80, 0x99): (0x82, 0x58),
  
  (0x80, 0x9A): (0x81, 0x46),
  (0x80, 0x9B): (0x81, 0x47),
  (0x80, 0x9E): (0x81, 0x84),
  (0x80, 0x9F): (0x81, 0x48),
  
  (0x80, 0xA0): (0x81, 0x97),
  
  (0x80, 0xA1): (0x82, 0x60),
  (0x80, 0xA2): (0x82, 0x61),
  (0x80, 0xA3): (0x82, 0x62),
  (0x80, 0xA4): (0x82, 0x63),
  (0x80, 0xA5): (0x82, 0x64),
  (0x80, 0xA6): (0x82, 0x65),
  (0x80, 0xA7): (0x82, 0x66),
  (0x80, 0xA8): (0x82, 0x67),
  (0x80, 0xA9): (0x82, 0x68),
  (0x80, 0xAA): (0x82, 0x69),
  (0x80, 0xAB): (0x82, 0x6A),
  (0x80, 0xAC): (0x82, 0x6B),
  (0x80, 0xAD): (0x82, 0x6C),
  (0x80, 0xAE): (0x82, 0x6D),
  (0x80, 0xAF): (0x82, 0x6E),
  (0x80, 0xB0): (0x82, 0x6F),

  (0x80, 0xB1): (0x82, 0x70),
  (0x80, 0xB2): (0x82, 0x71),
  (0x80, 0xB3): (0x82, 0x72),
  (0x80, 0xB4): (0x82, 0x73),
  (0x80, 0xB5): (0x82, 0x74),
  (0x80, 0xB6): (0x82, 0x75),
  (0x80, 0xB7): (0x82, 0x76),
  (0x80, 0xB8): (0x82, 0x77),
  (0x80, 0xB9): (0x82, 0x78),
  
  (0x80, 0xBF): (0x81, 0x51),
  
  (0x80, 0xC1): (0x82, 0x81),
  (0x80, 0xC2): (0x82, 0x82),
  (0x80, 0xC3): (0x82, 0x83),
  (0x80, 0xC4): (0x82, 0x84),
  (0x80, 0xC5): (0x82, 0x85),
  (0x80, 0xC6): (0x82, 0x86),
  (0x80, 0xC7): (0x82, 0x87),
  (0x80, 0xC8): (0x82, 0x88),
  (0x80, 0xC9): (0x82, 0x89),
  (0x80, 0xCA): (0x82, 0x8A),
  (0x80, 0xCB): (0x82, 0x8B),
  (0x80, 0xCC): (0x82, 0x8C),
  (0x80, 0xCD): (0x82, 0x8D),
  (0x80, 0xCE): (0x82, 0x8E),
  (0x80, 0xCF): (0x82, 0x8F),

  (0x80, 0xD0): (0x82, 0x90),
  (0x80, 0xD1): (0x82, 0x91),
  (0x80, 0xD2): (0x82, 0x92),
  (0x80, 0xD3): (0x82, 0x93),
  (0x80, 0xD4): (0x82, 0x94),
  (0x80, 0xD5): (0x82, 0x95),
  (0x80, 0xD6): (0x82, 0x96),
  (0x80, 0xD7): (0x82, 0x97),
  (0x80, 0xD8): (0x82, 0x98),
  (0x80, 0xD9): (0x82, 0x99),
  (0x80, 0xDA): (0x82, 0x9A),
  (0x80, 0xDF): (0x82, 0x9F),

  (0x80, 0xE0): (0x82, 0xA0),
  (0x80, 0xE1): (0x82, 0xA1),
  (0x80, 0xE2): (0x82, 0xA2),
  (0x80, 0xE3): (0x82, 0xA3),
  (0x80, 0xE4): (0x82, 0xA4),
  (0x80, 0xE5): (0x82, 0xA5),
  (0x80, 0xE6): (0x82, 0xA6),
  (0x80, 0xE7): (0x82, 0xA7),
  (0x80, 0xE8): (0x82, 0xA8),
  (0x80, 0xE9): (0x82, 0xA9),
  (0x80, 0xEA): (0x82, 0xAA),
  (0x80, 0xEB): (0x82, 0xAB),
  (0x80, 0xEC): (0x82, 0xAC),
  (0x80, 0xED): (0x82, 0xAD),
  (0x80, 0xEE): (0x82, 0xAE),
  (0x80, 0xEF): (0x82, 0xAF),

  (0x80, 0xF0): (0x82, 0xB0),
  (0x80, 0xF1): (0x82, 0xB1),
  (0x80, 0xF2): (0x82, 0xB2),
  (0x80, 0xF3): (0x82, 0xB3),
  (0x80, 0xF4): (0x82, 0xB4),
  (0x80, 0xF5): (0x82, 0xB5),
  (0x80, 0xF6): (0x82, 0xB6),
  (0x80, 0xF7): (0x82, 0xB7),
  (0x80, 0xF8): (0x82, 0xB8),
  (0x80, 0xF9): (0x82, 0xB9),
  (0x80, 0xFA): (0x82, 0xBA),
  (0x80, 0xFB): (0x82, 0xBB),
  (0x80, 0xFC): (0x82, 0xBC),
  (0x80, 0xFD): (0x82, 0xBD),
  (0x80, 0xFE): (0x82, 0xBE),
  (0x80, 0xFF): (0x82, 0xBF),

  (0x81, 0x80): (0x82, 0xC0),
  (0x81, 0x81): (0x82, 0xC1),
  (0x81, 0x82): (0x82, 0xC2),
  (0x81, 0x83): (0x82, 0xC3),
  (0x81, 0x84): (0x82, 0xC4),
  (0x81, 0x85): (0x82, 0xC5),
  (0x81, 0x86): (0x82, 0xC6),
  (0x81, 0x87): (0x82, 0xC7),
  (0x81, 0x88): (0x82, 0xC8),
  (0x81, 0x89): (0x82, 0xC9),
  (0x81, 0x8A): (0x82, 0xCA),
  (0x81, 0x8B): (0x82, 0xCB),
  (0x81, 0x8C): (0x82, 0xCC),
  (0x81, 0x8D): (0x82, 0xCD),
  (0x81, 0x8E): (0x82, 0xCE),
  (0x81, 0x8F): (0x82, 0xCF),

  (0x81, 0x90): (0x82, 0xD0),
  (0x81, 0x91): (0x82, 0xD1),
  (0x81, 0x92): (0x82, 0xD2),
  (0x81, 0x93): (0x82, 0xD3),
  (0x81, 0x94): (0x82, 0xD4),
  (0x81, 0x95): (0x82, 0xD5),
  (0x81, 0x96): (0x82, 0xD6),
  (0x81, 0x97): (0x82, 0xD7),
  (0x81, 0x98): (0x82, 0xD8),
  (0x81, 0x99): (0x82, 0xD9),
  (0x81, 0x9A): (0x82, 0xDA),
  (0x81, 0x9B): (0x82, 0xDB),
  (0x81, 0x9C): (0x82, 0xDC),
  (0x81, 0x9D): (0x82, 0xDD),
  (0x81, 0x9E): (0x82, 0xDE),
  (0x81, 0x9F): (0x82, 0xDF),

  (0x81, 0xA0): (0x82, 0xE0),
  (0x81, 0xA1): (0x82, 0xE1),
  (0x81, 0xA2): (0x82, 0xE2),
  (0x81, 0xA3): (0x82, 0xE3),
  (0x81, 0xA4): (0x82, 0xE4),
  (0x81, 0xA5): (0x82, 0xE5),
  (0x81, 0xA6): (0x82, 0xE6),
  (0x81, 0xA7): (0x82, 0xE7),
  (0x81, 0xA8): (0x82, 0xE8),
  (0x81, 0xA9): (0x82, 0xE9),
  (0x81, 0xAA): (0x82, 0xEA),
  (0x81, 0xAB): (0x82, 0xEB),
  (0x81, 0xAC): (0x82, 0xEC),
  (0x81, 0xAD): (0x82, 0xED),
  (0x81, 0xAE): (0x82, 0xEE),
  (0x81, 0xAF): (0x82, 0xEF),

  (0x81, 0xB0): (0x82, 0xF0),
  (0x81, 0xB1): (0x82, 0xF1),

  (0x81, 0xB2): (0x83, 0x40),
  (0x81, 0xB3): (0x83, 0x41),
  (0x81, 0xB4): (0x83, 0x42),
  (0x81, 0xB5): (0x83, 0x43),
  (0x81, 0xB6): (0x83, 0x44),
  (0x81, 0xB7): (0x83, 0x45),
  (0x81, 0xB8): (0x83, 0x46),
  (0x81, 0xB9): (0x83, 0x47),
  (0x81, 0xBA): (0x83, 0x48),
  (0x81, 0xBB): (0x83, 0x49),
  (0x81, 0xBC): (0x83, 0x4A),
  (0x81, 0xBD): (0x83, 0x4B),
  (0x81, 0xBE): (0x83, 0x4C),
  (0x81, 0xBF): (0x83, 0x4D),
  (0x81, 0xC0): (0x83, 0x4E),
  (0x81, 0xC1): (0x83, 0x4F),

  (0x81, 0xC2): (0x83, 0x50),
  (0x81, 0xC3): (0x83, 0x51),
  (0x81, 0xC4): (0x83, 0x52),
  (0x81, 0xC5): (0x83, 0x53),
  (0x81, 0xC6): (0x83, 0x54),
  (0x81, 0xC7): (0x83, 0x55),
  (0x81, 0xC8): (0x83, 0x56),
  (0x81, 0xC9): (0x83, 0x57),
  (0x81, 0xCA): (0x83, 0x58),
  (0x81, 0xCB): (0x83, 0x59),
  (0x81, 0xCC): (0x83, 0x5A),
  (0x81, 0xCD): (0x83, 0x5B),
  (0x81, 0xCE): (0x83, 0x5C),
  (0x81, 0xCF): (0x83, 0x5D),
  (0x81, 0xD0): (0x83, 0x5E),
  (0x81, 0xD1): (0x83, 0x5F),

  (0x81, 0xD2): (0x83, 0x60),
  (0x81, 0xD3): (0x83, 0x61),
  (0x81, 0xD4): (0x83, 0x62),
  (0x81, 0xD5): (0x83, 0x63),
  (0x81, 0xD6): (0x83, 0x64),
  (0x81, 0xD7): (0x83, 0x65),
  (0x81, 0xD8): (0x83, 0x66),
  (0x81, 0xD9): (0x83, 0x67),
  (0x81, 0xDA): (0x83, 0x68),
  (0x81, 0xDB): (0x83, 0x69),
  (0x81, 0xDC): (0x83, 0x6A),
  (0x81, 0xDD): (0x83, 0x6B),
  (0x81, 0xDE): (0x83, 0x6C),
  (0x81, 0xDF): (0x83, 0x6D),
  (0x81, 0xE0): (0x83, 0x6E),
  (0x81, 0xE1): (0x83, 0x6F),

  (0x81, 0xE2): (0x83, 0x70),
  (0x81, 0xE3): (0x83, 0x71),
  (0x81, 0xE4): (0x83, 0x72),
  (0x81, 0xE5): (0x83, 0x73),
  (0x81, 0xE6): (0x83, 0x74),
  (0x81, 0xE7): (0x83, 0x75),
  (0x81, 0xE8): (0x83, 0x76),
  (0x81, 0xE9): (0x83, 0x77),
  (0x81, 0xEA): (0x83, 0x78),
  (0x81, 0xEB): (0x83, 0x79),
  (0x81, 0xEC): (0x83, 0x7A),
  (0x81, 0xED): (0x83, 0x7B),
  (0x81, 0xEE): (0x83, 0x7C),
  (0x81, 0xEF): (0x83, 0x7D),
  (0x81, 0xF0): (0x83, 0x7E),

  (0x81, 0xF1): (0x83, 0x80),
  (0x81, 0xF2): (0x83, 0x81),
  (0x81, 0xF3): (0x83, 0x82),
  (0x81, 0xF4): (0x83, 0x83),
  (0x81, 0xF5): (0x83, 0x84),
  (0x81, 0xF6): (0x83, 0x85),
  (0x81, 0xF7): (0x83, 0x86),
  (0x81, 0xF8): (0x83, 0x87),
  (0x81, 0xF9): (0x83, 0x88),
  (0x81, 0xFA): (0x83, 0x89),
  (0x81, 0xFB): (0x83, 0x8A),
  (0x81, 0xFC): (0x83, 0x8B),
  (0x81, 0xFD): (0x83, 0x8C),
  (0x81, 0xFE): (0x83, 0x8D),
  (0x81, 0xFF): (0x83, 0x8E),
  (0x82, 0x80): (0x83, 0x8F),

  (0x82, 0x81): (0x83, 0x90),
  (0x82, 0x82): (0x83, 0x91),
  (0x82, 0x83): (0x83, 0x92),
  (0x82, 0x84): (0x83, 0x93),
  (0x82, 0x85): (0x83, 0x94),
  (0x82, 0x86): (0x83, 0x95),
  (0x82, 0x87): (0x83, 0x96),
  
  (0x82, 0x88): (0x81, 0x41),
  (0x82, 0x89): (0x81, 0x42),
  (0x82, 0x8A): (0x81, 0x45),
  
  (0x82, 0x96): (0x81, 0x58),
  (0x82, 0x99): (0x81, 0x5B),
  
  (0x82, 0x9B): (0x81, 0x60),
  (0x82, 0x9D): (0x81, 0x63),
  (0x82, 0x9F): (0x81, 0x67),
  
  (0x82, 0xA6): (0x81, 0x75),
  (0x82, 0xA7): (0x81, 0x76),
  (0x82, 0xA8): (0x81, 0x77),
  (0x82, 0xA9): (0x81, 0x78),
  (0x82, 0xAC): (0x81, 0x7C),
  (0x82, 0xAE): (0x81, 0x7E),
  
  (0x82, 0xC0): (0x81, 0x99),
  (0x82, 0xC1): (0x81, 0x9A),
  (0x82, 0xC2): (0x81, 0x9B),
  (0x82, 0xC3): (0x81, 0x9C),
  (0x82, 0xC4): (0x81, 0x9D),
  (0x82, 0xC5): (0x81, 0x9E),
  (0x82, 0xC6): (0x81, 0x9F),
  
  (0x82, 0xC7): (0x81, 0xA0),
  (0x82, 0xC8): (0x81, 0xA1),
  (0x82, 0xC9): (0x81, 0xA2),
  (0x82, 0xCA): (0x81, 0xA3),
  (0x82, 0xCB): (0x81, 0xA4),
  (0x82, 0xCC): (0x81, 0xA5),
  (0x82, 0xCD): (0x81, 0xA6),
  (0x82, 0xCE): (0x81, 0xA7),
  (0x82, 0xCF): (0x81, 0xA8),
  
  # The range from 0x83C7 to 0x9ADA is a contiguous mapping
  # to all valid CP932 codepoints from 0x88A0 to 0x9872,
  # so these values are added below.
  
  (0x9B, 0x93): (0x9B, 0xDE),
  (0x9B, 0x94): (0x9C, 0xE0),
  (0x9B, 0x96): (0xE1, 0xF7),
  (0x9B, 0x98): (0x9F, 0x72),
  (0x9B, 0x99): (0x98, 0xA5),
  (0x9B, 0x9A): (0x99, 0x8B),
  (0x9B, 0x9B): (0xE3, 0x4A),
  (0x9B, 0x9C): (0xE3, 0x59),
  (0x9B, 0x9D): (0xE7, 0x48),
  (0x9B, 0x9E): (0x9A, 0x91),
  (0x9B, 0x9F): (0x98, 0xFC),
  
  (0x9B, 0xA0): (0xE6, 0xC3),
  (0x9B, 0xAB): (0x9F, 0x54),
  (0x9B, 0xAE): (0x9A, 0x6A),
  (0x9B, 0xAF): (0xE7, 0xAE),
  
  (0x9B, 0xB0): (0xE7, 0x90),
  (0x9B, 0xB4): (0xE9, 0x78),
  (0x9B, 0xB6): (0xE3, 0xA9),
  (0x9B, 0xB7): (0xE1, 0xC6),
  (0x9B, 0xBD): (0xE5, 0xBF),
  (0x9B, 0xBE): (0x9F, 0xAD),
  (0x9B, 0xBF): (0xE1, 0xBF),

  (0x9B, 0xC2): (0x9A, 0xF8),
  (0x9B, 0xC3): (0x99, 0xEA),
  (0x9B, 0xC4): (0x9E, 0x42),
  (0x9B, 0xC5): (0x9B, 0xB3),
  (0x9B, 0xC7): (0xE0, 0xDB),
  (0x9B, 0xC8): (0xE0, 0xE8),
  (0x9B, 0xC9): (0xE0, 0xF8),
  (0x9B, 0xCA): (0x9E, 0xA3),
  (0x9B, 0xCB): (0xE4, 0x72),
  (0x9B, 0xCC): (0x9C, 0xDF),
  (0x9B, 0xCF): (0x9F, 0xD3),
  
  (0x9B, 0xD0): (0xE9, 0x44),
  (0x9B, 0xD1): (0xE1, 0x83),
  (0x9B, 0xD2): (0xE6, 0xCE),
  (0x9B, 0xD3): (0xE1, 0xD2),
  (0x9B, 0xD4): (0xE2, 0xC4),
  (0x9B, 0xD9): (0x9B, 0x67),
  (0x9B, 0xDD): (0x9A, 0x58),
  (0x9B, 0xDE): (0x9A, 0xBA),
  
  (0x9B, 0xE2): (0xE7, 0x97),
  (0x9B, 0xE3): (0xE8, 0xF5),
  (0x9B, 0xE5): (0x9F, 0xF9),
  (0x9B, 0xE8): (0x9A, 0x6B),
  (0x9B, 0xE9): (0xE1, 0x53),
  (0x9B, 0xEA): (0x9F, 0xB9),
  (0x9B, 0xEC): (0x9A, 0xD0),
  (0x9B, 0xEF): (0xE6, 0xF9),
  
  (0x9B, 0xF5): (0xE5, 0xEB),
  (0x9B, 0xF6): (0x9D, 0x58),
  (0x9B, 0xF7): (0xE9, 0x4C),
  (0x9B, 0xF8): (0x9B, 0x5A),
  (0x9B, 0xFA): (0xE1, 0xC9),
  (0x9B, 0xFB): (0xE6, 0x62),
  (0x9B, 0xFC): (0xE0, 0x75),
  (0x9B, 0xFD): (0xE4, 0xA5),
  (0x9B, 0xFF): (0xE7, 0x80),
  
  (0x9C, 0x80): (0x9C, 0x66),
  (0x9C, 0x81): (0x9D, 0x66),
  (0x9C, 0x86): (0x9F, 0x98),
  (0x9C, 0x87): (0xE7, 0xAF),
  
  (0x9C, 0x89): (0x0D, 0x0A),
  (0x9C, 0x8E): (0x9D, 0x86),
  
  # 嗟 -- not 100% sure on this.
  (0x9D, 0x86): (0x9A, 0x6C),
  
  (0x9C, 0x8A): (0x81, 0x40),
  (0x9C, 0x8B): (0x81, 0x40),
  (0x9C, 0x8F): (0x81, 0x40),
  (0x9C, 0x92): (0x81, 0x40),
  (0x9C, 0x93): (0x81, 0x40),
  (0x9C, 0x94): (0x81, 0x40),
  (0x9C, 0x97): (0x81, 0x40),
  (0x9C, 0x99): (0x81, 0x40),
  (0x9C, 0x9C): (0x81, 0x40),
  (0x9C, 0x9D): (0x81, 0x40),
  (0x9C, 0x9E): (0x81, 0x40),
  (0x9C, 0x9F): (0x81, 0x40),
  (0x9C, 0xA0): (0x81, 0x40),
  (0x9C, 0xA1): (0x81, 0x40),
  (0x9C, 0xA2): (0x81, 0x40),
  (0x9C, 0xA3): (0x81, 0x40),
}

from cp932 import CP932

def gen_range((enc_b1, enc_b2), (dec_b1, dec_b2), count):
  
  table = {}
  for i in range(count):
    table[(enc_b1, enc_b2)] = (dec_b1, dec_b2)
    
    enc_b2 += 1
    if enc_b2 > 0xFF:
      enc_b1 += 1
      enc_b2 = 0x80
    
    index = CP932.index((dec_b1, dec_b2))
    dec_b1, dec_b2 = CP932[index + 1]
  
  return table

# The range from 0x83C7 to 0x9ADA is a contiguous mapping
# to all valid CP932 codepoints from 0x88A0 to 0x9872.
TRANSLATION_TABLE.update(gen_range((0x83, 0xC7), (0x88, 0xA0), 2964))

### EOF ###